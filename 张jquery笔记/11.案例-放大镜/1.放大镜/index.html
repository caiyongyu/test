<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
     *{
         margin: 0;
         padding: 0;
     }
     #container{
         width: 1000px;
         height: 500px;
         margin: 50px auto;
         position: relative;
     }
     #top{
         width: 400px;
         height: 300px;
         float: left;
         /* position: relative; */
     }
     #top img{
        width: 400px;
         height: 300px;
     }
     #container #min #top b{
         position: absolute;
         width: 150px;
         height: 150px;
         left: 0;
         top: 0;
         background: blue;
         opacity: 0.3;
         display: none;
     }
     ul{
         list-style: none;
     }
     #max{
         width: 400px;
         height: 300px;
         float: right;
         overflow: hidden;
         position: relative;
     }
     #max img{
         width: 800px;
         height: 600px;
         display: none;
         position: absolute;
     }
     #bottom{
         position: absolute;
         left: 0;
         width: 400px;
         bottom: 100px;
     }
     ul li{
         float: left;
         margin: 0 5px;
     }
     #left,#right{
         float: left;
     }
     ul li img{
         width: 60px;
         height: 45px;
     }
     .active{
         border: 2px solid orange;
         padding: 2px;
     }
    </style>
</head>
<body>
    <div id="container">
        <div id="min">
            <div id="top"><img src="images/1.jpg" alt="">
            <b></b>
            </div>
            <div id="bottom">
                <div id="left"><img src="images/left.gif" alt=""></div>
                <div id="item">
                    <ul>
                        <li><img class="active" src="images/1.jpg" alt=""></li>
                        <li><img src="images/2.jpg" alt=""></li>
                        <li><img src="images/3.jpg" alt=""></li>
                        <li><img src="images/4.jpg" alt=""></li>
                        <li><img src="images/5.jpg" alt=""></li>
                    </ul>
                </div>
                <div id="right"><img src="images/right.gif" alt=""></div>
            </div>
        </div>
        <div id="max"><img src="images/1.jpg" alt=""></div>
    </div>
    

    <script src="jquery1.7.js"></script>
    <script>
        $(function(){
            
            $("#item ul li img").click(function(){
                // alert($(this).attr("src"));
                $("#top img").attr("src",$(this).attr("src"));
                $("#max img").attr("src",$(this).attr("src"));
                $(this).addClass("active").parent().siblings().find("img").removeClass()
            })

            $("#top").mousemove(function(e){
                $("b").show();
                $("#max img").show();
                var x=e.pageX-$(this).offset().left-$("b").width()/2;
                var y=e.pageY-$(this).offset().top-$("b").height()/2;
                var mx=$(this).width()-$("b").width();
                var my=$(this).height()-$("b").height();
                // console.log(x);
                
                if(x<0){
                    x=0;
                }else if(x>mx){         //角落会出去？？
                    x=mx;
                }else if(y<0){
                    y=0;
                }else if(y>my){
                    y=my
                }
                $("b").css({
                    "left":x,
                    "top":y
                })
                $("#max img").css({
                    "left": -2*x,
                    "top":-2*y
                })
            })
        
        })




       
    </script>
</body>
</html>