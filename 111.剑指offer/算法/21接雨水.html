<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //[0,1,0,2,1,0,1,3,2,1,2,1] (表示柱子高度)     6 (接到的雨水量)
        //Math.min(left_max[i],right_max[i])-height[i];

        var trap = function(height) {
        let n=height.length;
        if(n===0) return 0;
        let res=0;

        let left_max=[] ,right_max=[];
        //记录左边数组的最大值
        left_max[0]=height[0];
        for(let i=1;i<n;i++){
            left_max[i]=Math.max(left_max[i-1],height[i]);
        }
        //记录右边数组的最大值
        right_max[n-1]=height[n-1];
        for(let i=n-2;i>=0;i--){
            right_max[i]=Math.max(right_max[i+1],height[i]);
        }
        //统计每一列的面积之和
        for(let i=0;i<n;i++){
            res+=Math.min(left_max[i],right_max[i])-height[i];
        }
        return res;
        };
        console.log(trap([0,1,0,2,1,0,1,3,2,1,2,1]))
    </script>
</body>
</html>