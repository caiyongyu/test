<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="a">A</button>
    <button id="b">B</button>
    <input type="text" id="ipt">
    <script>
            //dom元素
            var a = document.querySelector("#a")
            var b = document.querySelector("#b")
            var i = document.querySelector("#ipt");
            //全局变量p保存promie实例
            var P = Promise.resolve();
            a.onclick  = function(){
                //将事件过程包装成一个promise并通过then链连接到
                //全局的Promise实例上，并更新全局变量，这样其他点击
                //就可以拿到最新的Promies执行链
                P = P.then(function(){
                    //then链里面的函数返回一个新的promise实例
                    return new Promise(function(resolve,reject){
                        setTimeout(function(){
                            resolve()
                            i.value = "a";
                        },1000)
                    })
                })
            }
            b.onclick  = function(){
                P = P.then(function(){
                    return new Promise(function(resolve,reject){
                        setTimeout(function(){
                            resolve()
                            console.log("b")
                            i.value = "b"
                        },1000)
                    })
                })
            }
document.get
    </script>
</body>
</html>