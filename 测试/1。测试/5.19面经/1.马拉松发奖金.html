<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        var arr=[10,20,30,40,20,10,5,45];
        var money=[];
        for(let i=0;i<arr.length;i++){
            money.push(1);
        }
        
        
        var len=arr.length;
        // function giveMon(arr){
        //     for(var i=0;i<len;i++){
        //         if(i==0 && arr[0]<arr[1]){
        //             money[0] = 1;
        //         }else if(i==0 && arr[0]>arr[1]){
        //             money[0]=money[1]+1;
        //         }else if(i>0 && i<len-1){
        //             if(arr[i]<arr[i-1] && arr[i]<arr[i+1]){
        //                 money[i]=1;
        //             }else if(arr[i]>arr[i-1]  && arr[i]>arr[i+1]){
        //                 money[i]=Math.max(money[i-1],money[i+1])+1;
        //             }else{
        //                 money[i]=Math.min(money[i-1],money[i+1])+1;
        //                 // console.log(money[i]);
                        
        //             }
        //         }else if(i==len-1 && arr[len-1]<arr[len-2]){
        //             money[len-1]=1;
        //         }else if(i==len-1 && arr[len-1]>arr[len-2]){
        //             money[len-1]=money[len-2]+1;
                    
                    
        //         }
                
        //     }
        //     let res=money.reduce((a,b)=>{
        //         return a+b;
        //     },0);
        //     console.log(money);
            
        //     return res;
        // }
        // console.log(giveMon(arr));



        for(var i=0;i<len;i++){
            if(arr[i]>arr[i-1]){
                money[i]=money[i-1]+1;
            } 
            // i++;
        }
        for(var i=len-1;i>=0;i--){
            if(arr[i]>arr[i+1]) money[i]=money[i+1]+1;
            // i--;
        }
        // console.log(1<arr[-1]);              //arr[-1]=undefined,-1与之比较都是false
        
        console.log(money);
        
        let res=money.reduce((a,b)=>{
            return a+b;
        },0);
        console.log(res);
        
        
    </script>
</body>
</html>